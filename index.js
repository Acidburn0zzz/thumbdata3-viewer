((e,t,r)=>{e.addEventListener("DOMContentLoaded",()=>{let e={fileOpen:t.querySelector("#filePickerOpen"),filePicker:t.querySelector("#filePicker"),imageContainer:t.querySelector("#imageContainer"),emptyText:t.querySelector("#emptyText"),imageTemplate:t.querySelector("#imageTemplate"),imageViewer:t.querySelector(".image-viewer"),imageViewerMain:t.querySelector(".image-viewer img"),closeButton:t.querySelector("#closeButton"),progressContainer:t.querySelector(".progress"),progress:t.querySelector(".progress-bar")},r=()=>{e.imageContainer.querySelectorAll(".col-md-3:not(.d-none)").forEach(t=>e.imageContainer.removeChild(t))};e.filePicker.addEventListener("change",t=>{let s=t.target;if(0===s.files.length)return;let i=s.files[0];e.progressContainer.classList.remove("d-none"),e.progress.style.width="0%",e.progress.textContent="Parsing..",e.emptyText.classList.add("d-none"),e.fileOpen.classList.add("d-none"),r();let n=new Worker("ThumbExtractor.js");n.addEventListener("message",t=>{const s=t.data;s.status?e.progress.textContent=s.status:s.progress?e.progress.style.width=s.progress+"%":s.images&&(e.progressContainer.classList.add("d-none"),e.fileOpen.classList.remove("d-none"),e.filePicker.value=null,(t=>{if(r(),0===t.length)e.emptyText.classList.remove("d-none");else{e.emptyText.classList.add("d-none");for(let r=0;r<t.length;r++){let s=e.imageTemplate.cloneNode(!0),i=s.querySelector("img");s.classList.remove("d-none"),i.src=t[r],s.addEventListener("click",()=>{e.imageViewerMain.src=t[r],e.imageViewer.classList.remove("d-none")}),e.imageContainer.appendChild(s)}}})(s.images))}),n.postMessage({init:i})}),e.fileOpen.addEventListener("click",()=>{e.filePicker.click()}),e.closeButton.addEventListener("click",()=>{e.imageViewer.classList.add("d-none")})})})(window,document,console);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbIndpbmRvdyIsImRvY3VtZW50IiwiY29uc29sZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJET00iLCJmaWxlT3BlbiIsInF1ZXJ5U2VsZWN0b3IiLCJmaWxlUGlja2VyIiwiaW1hZ2VDb250YWluZXIiLCJlbXB0eVRleHQiLCJpbWFnZVRlbXBsYXRlIiwiaW1hZ2VWaWV3ZXIiLCJpbWFnZVZpZXdlck1haW4iLCJjbG9zZUJ1dHRvbiIsInByb2dyZXNzQ29udGFpbmVyIiwicHJvZ3Jlc3MiLCJjbGVhckxpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImNoaWxkIiwicmVtb3ZlQ2hpbGQiLCJldmVudCIsInRhcmdldCIsImZpbGVzIiwibGVuZ3RoIiwiZmlsZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsInN0eWxlIiwid2lkdGgiLCJ0ZXh0Q29udGVudCIsImFkZCIsIndvcmtlciIsIldvcmtlciIsIm1zZyIsImRhdGEiLCJzdGF0dXMiLCJpbWFnZXMiLCJ2YWx1ZSIsImkiLCJpbWFnZUNoaWxkIiwiY2xvbmVOb2RlIiwiaW1hZ2VQcmV2aWV3Iiwic3JjIiwiYXBwZW5kQ2hpbGQiLCJ1cGRhdGVMaXN0IiwicG9zdE1lc3NhZ2UiLCJpbml0IiwiY2xpY2siXSwibWFwcGluZ3MiOiJBQXNCQSxFQUFFQSxFQUFnQkMsRUFBb0JDLEtBa0JyQ0YsRUFBT0csaUJBQWlCLG1CQUFvQixLQUUzQyxJQUFJQyxHQUNIQyxTQUFVSixFQUFTSyxjQUFjLG1CQUNqQ0MsV0FBWU4sRUFBU0ssY0FBYyxlQUNuQ0UsZUFBZ0JQLEVBQVNLLGNBQWMsbUJBQ3ZDRyxVQUFXUixFQUFTSyxjQUFjLGNBQ2xDSSxjQUFlVCxFQUFTSyxjQUFjLGtCQUN0Q0ssWUFBYVYsRUFBU0ssY0FBYyxpQkFDcENNLGdCQUFpQlgsRUFBU0ssY0FBYyxxQkFDeENPLFlBQWFaLEVBQVNLLGNBQWMsZ0JBQ3BDUSxrQkFBbUJiLEVBQVNLLGNBQWMsYUFDMUNTLFNBQVVkLEVBQVNLLGNBQWMsa0JBRzlCVSxFQUFZLEtBQzRCWixFQUFJSSxlQUFlUyxpQkFBaUIsMEJBQ3RFQyxRQUFRQyxHQUFTZixFQUFJSSxlQUFlWSxZQUFZRCxLQTRCMURmLEVBQUlHLFdBQVdKLGlCQUFpQixTQUFXa0IsSUFDMUMsSUFBSUMsRUFBNEJELEVBQU1DLE9BQ3RDLEdBQTRCLElBQXhCQSxFQUFPQyxNQUFNQyxPQUFjLE9BQy9CLElBQUlDLEVBQWFILEVBQU9DLE1BQU0sR0FFOUJuQixFQUFJVSxrQkFBa0JZLFVBQVVDLE9BQU8sVUFDdkN2QixFQUFJVyxTQUFTYSxNQUFNQyxNQUFRLEtBQzNCekIsRUFBSVcsU0FBU2UsWUFBYyxZQUMzQjFCLEVBQUlLLFVBQVVpQixVQUFVSyxJQUFJLFVBQzVCM0IsRUFBSUMsU0FBU3FCLFVBQVVLLElBQUksVUFFM0JmLElBRUEsSUFBSWdCLEVBQVMsSUFBSUMsT0FBTyxxQkFDeEJELEVBQU83QixpQkFBaUIsVUFBVytCLElBQ2xDLE1BQU1DLEVBQU9ELEVBQUlDLEtBRWRBLEVBQUtDLE9BQ1BoQyxFQUFJVyxTQUFTZSxZQUFjSyxFQUFLQyxPQUN4QkQsRUFBS3BCLFNBQ2JYLEVBQUlXLFNBQVNhLE1BQU1DLE1BQVFNLEVBQUtwQixTQUFXLElBQ25Db0IsRUFBS0UsU0FDYmpDLEVBQUlVLGtCQUFrQlksVUFBVUssSUFBSSxVQUNwQzNCLEVBQUlDLFNBQVNxQixVQUFVQyxPQUFPLFVBQzlCdkIsRUFBSUcsV0FBVytCLE1BQVEsS0FqRFQsQ0FBQ0QsSUFHakIsR0FGQXJCLElBRXNCLElBQWxCcUIsRUFBT2IsT0FDVnBCLEVBQUlLLFVBQVVpQixVQUFVQyxPQUFPLGNBQ3pCLENBQ052QixFQUFJSyxVQUFVaUIsVUFBVUssSUFBSSxVQUU1QixJQUFLLElBQUlRLEVBQUksRUFBR0EsRUFBSUYsRUFBT2IsT0FBUWUsSUFBSyxDQUN2QyxJQUFJQyxFQUE2QnBDLEVBQUlNLGNBQWMrQixXQUFVLEdBQ3pEQyxFQUFpQ0YsRUFBV2xDLGNBQWMsT0FFOURrQyxFQUFXZCxVQUFVQyxPQUFPLFVBQzVCZSxFQUFhQyxJQUFNTixFQUFPRSxHQUUxQkMsRUFBV3JDLGlCQUFpQixRQUFTLEtBQ3BDQyxFQUFJUSxnQkFBZ0IrQixJQUFNTixFQUFPRSxHQUNqQ25DLEVBQUlPLFlBQVllLFVBQVVDLE9BQU8sWUFHbEN2QixFQUFJSSxlQUFlb0MsWUFBWUosTUE4Qi9CSyxDQUFXVixFQUFLRSxXQUdsQkwsRUFBT2MsYUFBYUMsS0FBTXRCLE1BRzNCckIsRUFBSUMsU0FBU0YsaUJBQWlCLFFBQVMsS0FDdENDLEVBQUlHLFdBQVd5QyxVQUdoQjVDLEVBQUlTLFlBQVlWLGlCQUFpQixRQUFTLEtBQ3pDQyxFQUFJTyxZQUFZZSxVQUFVSyxJQUFJLGVBbkdqQyxDQXdHRy9CLE9BQVFDLFNBQVVDIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Imh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS94MGEvdGh1bWJkYXRhMy12aWV3ZXIvbWFzdGVyL3NyYy8ifQ==
