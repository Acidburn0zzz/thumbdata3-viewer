let app=angular.module("thumbdata3App",[]);app.directive("onFileChange",["$parse",e=>({restrict:"A",link:(t,a,i)=>{var r=e(i.onFileChange);a.on("change",e=>{t.$apply(()=>r(t,{$event:e}))}),a.on("$destroy",()=>a.off())}})]),app.controller("main",["$scope",e=>{e.images=[],e.showimage=-1,e.openfilepicker=(()=>{document.querySelector("input").click()}),e.filepicked=(t=>{if(0===t.target.files.length)return;e.images=[];let a=t.target.files[0],i=new FileReader;i.addEventListener("loadend",()=>{let t=new Uint8Array(i.result),a=!1,r=!1;for(let i=0;i<t.length;i++)255!==t[i]||a?a&&(216===t[i]?r=i-1:217===t[i]&&e.images.push(URL.createObjectURL(new Blob([t.slice(r,i)],{type:"image/jpeg"}))),a=!1):a=!0;e.$digest()}),i.readAsArrayBuffer(a)}),e.show=(t=>{e.showimage=t})}]);