((e,t,r)=>{e.addEventListener("DOMContentLoaded",()=>{let e={fileOpen:t.querySelector("#filePickerOpen"),filePicker:t.querySelector("#filePicker"),imageContainer:t.querySelector("#imageContainer"),emptyText:t.querySelector("#emptyText"),imageTemplate:t.querySelector("#imageTemplate"),imageViewer:t.querySelector(".image-viewer"),imageViewerMain:t.querySelector(".image-viewer img"),closeButton:t.querySelector("#closeButton"),progressContainer:t.querySelector(".progress"),progress:t.querySelector(".progress-bar"),progressText:t.querySelector(".progress-text")},s=()=>{e.imageContainer.querySelectorAll(".col-md-3:not(.d-none)").forEach(t=>e.imageContainer.removeChild(t))};e.filePicker.addEventListener("change",t=>{let r=t.target;if(0===r.files.length)return;let i=r.files[0];e.progressText.classList.remove("d-none"),e.progressContainer.classList.remove("d-none"),e.progress.style.width="0%",e.progress.textContent="Parsing..",e.emptyText.classList.add("d-none"),e.fileOpen.classList.add("d-none"),s(),n.postMessage({init:i})}),e.fileOpen.addEventListener("click",()=>{e.filePicker.click()}),e.closeButton.addEventListener("click",()=>{e.imageViewer.classList.add("d-none")});let n=new Worker("ThumbExtractor.js"),i=Date.now();n.addEventListener("message",t=>{const n=t.data;if(n.status)e.progress.textContent=n.status;else if(n.progress){let t=Date.now();t-i>200&&(e.progress.style.width=n.progress+"%",e.progressText.textContent=n.text,i=t)}else n.images&&(e.progressText.classList.add("d-none"),e.progressContainer.classList.add("d-none"),e.fileOpen.classList.remove("d-none"),e.filePicker.value=null,(t=>{if(s(),0===t.length)e.emptyText.classList.remove("d-none");else{e.emptyText.classList.add("d-none");for(let s=0;s<t.length;s++){let n=e.imageTemplate.cloneNode(!0),i=n.querySelector("img");n.classList.remove("d-none"),i.addEventListener("error",()=>{r.error("Failed to load image"),URL.revokeObjectURL(t[s])}),i.src=t[s],n.addEventListener("click",()=>{e.imageViewerMain.src=t[s],e.imageViewer.classList.remove("d-none")}),e.imageContainer.appendChild(n)}}})(n.images))})})})(window,document,console);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbIndpbmRvdyIsImRvY3VtZW50IiwiY29uc29sZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJET00iLCJmaWxlT3BlbiIsInF1ZXJ5U2VsZWN0b3IiLCJmaWxlUGlja2VyIiwiaW1hZ2VDb250YWluZXIiLCJlbXB0eVRleHQiLCJpbWFnZVRlbXBsYXRlIiwiaW1hZ2VWaWV3ZXIiLCJpbWFnZVZpZXdlck1haW4iLCJjbG9zZUJ1dHRvbiIsInByb2dyZXNzQ29udGFpbmVyIiwicHJvZ3Jlc3MiLCJwcm9ncmVzc1RleHQiLCJjbGVhckxpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImNoaWxkIiwicmVtb3ZlQ2hpbGQiLCJldmVudCIsInRhcmdldCIsImZpbGVzIiwibGVuZ3RoIiwiZmlsZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsInN0eWxlIiwid2lkdGgiLCJ0ZXh0Q29udGVudCIsImFkZCIsIndvcmtlciIsInBvc3RNZXNzYWdlIiwiaW5pdCIsImNsaWNrIiwiV29ya2VyIiwibGFzdFVwZGF0ZSIsIkRhdGUiLCJub3ciLCJtc2ciLCJkYXRhIiwic3RhdHVzIiwidGltZSIsInRleHQiLCJpbWFnZXMiLCJ2YWx1ZSIsImkiLCJpbWFnZUNoaWxkIiwiY2xvbmVOb2RlIiwiaW1hZ2VQcmV2aWV3IiwiZXJyb3IiLCJVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJzcmMiLCJhcHBlbmRDaGlsZCIsInVwZGF0ZUxpc3QiXSwibWFwcGluZ3MiOiJBQXNCQSxFQUFFQSxFQUFnQkMsRUFBb0JDLEtBbUJyQ0YsRUFBT0csaUJBQWlCLG1CQUFvQixLQUUzQyxJQUFJQyxHQUNIQyxTQUFVSixFQUFTSyxjQUFjLG1CQUNqQ0MsV0FBWU4sRUFBU0ssY0FBYyxlQUNuQ0UsZUFBZ0JQLEVBQVNLLGNBQWMsbUJBQ3ZDRyxVQUFXUixFQUFTSyxjQUFjLGNBQ2xDSSxjQUFlVCxFQUFTSyxjQUFjLGtCQUN0Q0ssWUFBYVYsRUFBU0ssY0FBYyxpQkFDcENNLGdCQUFpQlgsRUFBU0ssY0FBYyxxQkFDeENPLFlBQWFaLEVBQVNLLGNBQWMsZ0JBQ3BDUSxrQkFBbUJiLEVBQVNLLGNBQWMsYUFDMUNTLFNBQVVkLEVBQVNLLGNBQWMsaUJBQ2pDVSxhQUFjZixFQUFTSyxjQUFjLG1CQUdsQ1csRUFBWSxLQUM0QmIsRUFBSUksZUFBZVUsaUJBQWlCLDBCQUN0RUMsUUFBUUMsR0FBU2hCLEVBQUlJLGVBQWVhLFlBQVlELEtBZ0MxRGhCLEVBQUlHLFdBQVdKLGlCQUFpQixTQUFXbUIsSUFDMUMsSUFBSUMsRUFBNEJELEVBQU1DLE9BQ3RDLEdBQTRCLElBQXhCQSxFQUFPQyxNQUFNQyxPQUFjLE9BQy9CLElBQUlDLEVBQWFILEVBQU9DLE1BQU0sR0FFOUJwQixFQUFJWSxhQUFhVyxVQUFVQyxPQUFPLFVBQ2xDeEIsRUFBSVUsa0JBQWtCYSxVQUFVQyxPQUFPLFVBQ3ZDeEIsRUFBSVcsU0FBU2MsTUFBTUMsTUFBUSxLQUMzQjFCLEVBQUlXLFNBQVNnQixZQUFjLFlBQzNCM0IsRUFBSUssVUFBVWtCLFVBQVVLLElBQUksVUFDNUI1QixFQUFJQyxTQUFTc0IsVUFBVUssSUFBSSxVQUUzQmYsSUFFQWdCLEVBQU9DLGFBQWNDLEtBQU1ULE1BRzVCdEIsRUFBSUMsU0FBU0YsaUJBQWlCLFFBQVMsS0FDdENDLEVBQUlHLFdBQVc2QixVQUdoQmhDLEVBQUlTLFlBQVlWLGlCQUFpQixRQUFTLEtBQ3pDQyxFQUFJTyxZQUFZZ0IsVUFBVUssSUFBSSxZQUcvQixJQUFJQyxFQUFTLElBQUlJLE9BQU8scUJBQ3BCQyxFQUFhQyxLQUFLQyxNQUV0QlAsRUFBTzlCLGlCQUFpQixVQUFXc0MsSUFDbEMsTUFBTUMsRUFBT0QsRUFBSUMsS0FFakIsR0FBSUEsRUFBS0MsT0FDUnZDLEVBQUlXLFNBQVNnQixZQUFjVyxFQUFLQyxZQUMxQixHQUFJRCxFQUFLM0IsU0FBVSxDQUN6QixJQUFJNkIsRUFBT0wsS0FBS0MsTUFFYkksRUFBT04sRUFBYSxNQUN0QmxDLEVBQUlXLFNBQVNjLE1BQU1DLE1BQVFZLEVBQUszQixTQUFXLElBQzNDWCxFQUFJWSxhQUFhZSxZQUFjVyxFQUFLRyxLQUNwQ1AsRUFBYU0sUUFFSkYsRUFBS0ksU0FDZjFDLEVBQUlZLGFBQWFXLFVBQVVLLElBQUksVUFDL0I1QixFQUFJVSxrQkFBa0JhLFVBQVVLLElBQUksVUFDcEM1QixFQUFJQyxTQUFTc0IsVUFBVUMsT0FBTyxVQUM5QnhCLEVBQUlHLFdBQVd3QyxNQUFRLEtBMUVSLENBQUNELElBR2pCLEdBRkE3QixJQUVzQixJQUFsQjZCLEVBQU9yQixPQUNWckIsRUFBSUssVUFBVWtCLFVBQVVDLE9BQU8sY0FDekIsQ0FDTnhCLEVBQUlLLFVBQVVrQixVQUFVSyxJQUFJLFVBRTVCLElBQUssSUFBSWdCLEVBQUksRUFBR0EsRUFBSUYsRUFBT3JCLE9BQVF1QixJQUFLLENBQ3ZDLElBQUlDLEVBQTZCN0MsRUFBSU0sY0FBY3dDLFdBQVUsR0FDekRDLEVBQWlDRixFQUFXM0MsY0FBYyxPQUM5RDJDLEVBQVd0QixVQUFVQyxPQUFPLFVBQzVCdUIsRUFBYWhELGlCQUFpQixRQUFTLEtBQ3RDRCxFQUFRa0QsTUFBTSx3QkFDZEMsSUFBSUMsZ0JBQWdCUixFQUFPRSxNQUc1QkcsRUFBYUksSUFBTVQsRUFBT0UsR0FFMUJDLEVBQVc5QyxpQkFBaUIsUUFBUyxLQUNwQ0MsRUFBSVEsZ0JBQWdCMkMsSUFBTVQsRUFBT0UsR0FDakM1QyxFQUFJTyxZQUFZZ0IsVUFBVUMsT0FBTyxZQUdsQ3hCLEVBQUlJLGVBQWVnRCxZQUFZUCxNQW9EaENRLENBQVdmLEVBQUtJLGNBcEhwQixDQXlIRzlDLE9BQVFDLFNBQVVDIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Imh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS94MGEvdGh1bWJkYXRhMy12aWV3ZXIvbWFzdGVyL3NyYy8ifQ==
