((e,t,r)=>{e.addEventListener("DOMContentLoaded",()=>{let e={fileOpen:t.querySelector("#filePickerOpen"),filePicker:t.querySelector("#filePicker"),imageContainer:t.querySelector("#imageContainer"),emptyText:t.querySelector("#emptyText"),imageTemplate:t.querySelector("#imageTemplate"),imageViewer:t.querySelector(".image-viewer"),imageViewerMain:t.querySelector(".image-viewer img"),closeButton:t.querySelector("#closeButton"),progressContainer:t.querySelector(".progress"),progress:t.querySelector(".progress-bar")},r=()=>{e.imageContainer.querySelectorAll(".col-md-3:not(.d-none)").forEach(t=>e.imageContainer.removeChild(t))};e.filePicker.addEventListener("change",t=>{let i=t.target;if(0===i.files.length)return;let n=i.files[0];e.progressContainer.classList.remove("d-none"),e.progress.style.width="0%",e.progress.textContent="Parsing..",e.emptyText.classList.add("d-none"),e.fileOpen.classList.add("d-none"),r(),s.postMessage({init:n})}),e.fileOpen.addEventListener("click",()=>{e.filePicker.click()}),e.closeButton.addEventListener("click",()=>{e.imageViewer.classList.add("d-none")});let s=new Worker("ThumbExtractor.js"),i=Date.now();s.addEventListener("message",t=>{const s=t.data;if(s.status)e.progress.textContent=s.status;else if(s.progress){let t=Date.now();t-i>200&&(e.progress.style.width=s.progress+"%",i=t)}else s.images&&(e.progressContainer.classList.add("d-none"),e.fileOpen.classList.remove("d-none"),e.filePicker.value=null,(t=>{if(r(),0===t.length)e.emptyText.classList.remove("d-none");else{e.emptyText.classList.add("d-none");for(let r=0;r<t.length;r++){let s=e.imageTemplate.cloneNode(!0),i=s.querySelector("img");s.classList.remove("d-none"),i.src=t[r],s.addEventListener("click",()=>{e.imageViewerMain.src=t[r],e.imageViewer.classList.remove("d-none")}),e.imageContainer.appendChild(s)}}})(s.images))})})})(window,document,console);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbIndpbmRvdyIsImRvY3VtZW50IiwiY29uc29sZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJET00iLCJmaWxlT3BlbiIsInF1ZXJ5U2VsZWN0b3IiLCJmaWxlUGlja2VyIiwiaW1hZ2VDb250YWluZXIiLCJlbXB0eVRleHQiLCJpbWFnZVRlbXBsYXRlIiwiaW1hZ2VWaWV3ZXIiLCJpbWFnZVZpZXdlck1haW4iLCJjbG9zZUJ1dHRvbiIsInByb2dyZXNzQ29udGFpbmVyIiwicHJvZ3Jlc3MiLCJjbGVhckxpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImNoaWxkIiwicmVtb3ZlQ2hpbGQiLCJldmVudCIsInRhcmdldCIsImZpbGVzIiwibGVuZ3RoIiwiZmlsZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsInN0eWxlIiwid2lkdGgiLCJ0ZXh0Q29udGVudCIsImFkZCIsIndvcmtlciIsInBvc3RNZXNzYWdlIiwiaW5pdCIsImNsaWNrIiwiV29ya2VyIiwibGFzdFVwZGF0ZSIsIkRhdGUiLCJub3ciLCJtc2ciLCJkYXRhIiwic3RhdHVzIiwidGltZSIsImltYWdlcyIsInZhbHVlIiwiaSIsImltYWdlQ2hpbGQiLCJjbG9uZU5vZGUiLCJpbWFnZVByZXZpZXciLCJzcmMiLCJhcHBlbmRDaGlsZCIsInVwZGF0ZUxpc3QiXSwibWFwcGluZ3MiOiJBQXNCQSxFQUFFQSxFQUFnQkMsRUFBb0JDLEtBa0JyQ0YsRUFBT0csaUJBQWlCLG1CQUFvQixLQUUzQyxJQUFJQyxHQUNIQyxTQUFVSixFQUFTSyxjQUFjLG1CQUNqQ0MsV0FBWU4sRUFBU0ssY0FBYyxlQUNuQ0UsZUFBZ0JQLEVBQVNLLGNBQWMsbUJBQ3ZDRyxVQUFXUixFQUFTSyxjQUFjLGNBQ2xDSSxjQUFlVCxFQUFTSyxjQUFjLGtCQUN0Q0ssWUFBYVYsRUFBU0ssY0FBYyxpQkFDcENNLGdCQUFpQlgsRUFBU0ssY0FBYyxxQkFDeENPLFlBQWFaLEVBQVNLLGNBQWMsZ0JBQ3BDUSxrQkFBbUJiLEVBQVNLLGNBQWMsYUFDMUNTLFNBQVVkLEVBQVNLLGNBQWMsa0JBRzlCVSxFQUFZLEtBQzRCWixFQUFJSSxlQUFlUyxpQkFBaUIsMEJBQ3RFQyxRQUFRQyxHQUFTZixFQUFJSSxlQUFlWSxZQUFZRCxLQTRCMURmLEVBQUlHLFdBQVdKLGlCQUFpQixTQUFXa0IsSUFDMUMsSUFBSUMsRUFBNEJELEVBQU1DLE9BQ3RDLEdBQTRCLElBQXhCQSxFQUFPQyxNQUFNQyxPQUFjLE9BQy9CLElBQUlDLEVBQWFILEVBQU9DLE1BQU0sR0FFOUJuQixFQUFJVSxrQkFBa0JZLFVBQVVDLE9BQU8sVUFDdkN2QixFQUFJVyxTQUFTYSxNQUFNQyxNQUFRLEtBQzNCekIsRUFBSVcsU0FBU2UsWUFBYyxZQUMzQjFCLEVBQUlLLFVBQVVpQixVQUFVSyxJQUFJLFVBQzVCM0IsRUFBSUMsU0FBU3FCLFVBQVVLLElBQUksVUFFM0JmLElBRUFnQixFQUFPQyxhQUFjQyxLQUFNVCxNQUc1QnJCLEVBQUlDLFNBQVNGLGlCQUFpQixRQUFTLEtBQ3RDQyxFQUFJRyxXQUFXNEIsVUFHaEIvQixFQUFJUyxZQUFZVixpQkFBaUIsUUFBUyxLQUN6Q0MsRUFBSU8sWUFBWWUsVUFBVUssSUFBSSxZQUcvQixJQUFJQyxFQUFTLElBQUlJLE9BQU8scUJBQ3BCQyxFQUFhQyxLQUFLQyxNQUV0QlAsRUFBTzdCLGlCQUFpQixVQUFXcUMsSUFDbEMsTUFBTUMsRUFBT0QsRUFBSUMsS0FFakIsR0FBSUEsRUFBS0MsT0FDUnRDLEVBQUlXLFNBQVNlLFlBQWNXLEVBQUtDLFlBQzFCLEdBQUlELEVBQUsxQixTQUFVLENBQ3pCLElBQUk0QixFQUFPTCxLQUFLQyxNQUViSSxFQUFPTixFQUFhLE1BQ3RCakMsRUFBSVcsU0FBU2EsTUFBTUMsTUFBUVksRUFBSzFCLFNBQVcsSUFDM0NzQixFQUFhTSxRQUVKRixFQUFLRyxTQUNmeEMsRUFBSVUsa0JBQWtCWSxVQUFVSyxJQUFJLFVBQ3BDM0IsRUFBSUMsU0FBU3FCLFVBQVVDLE9BQU8sVUFDOUJ2QixFQUFJRyxXQUFXc0MsTUFBUSxLQW5FUixDQUFDRCxJQUdqQixHQUZBNUIsSUFFc0IsSUFBbEI0QixFQUFPcEIsT0FDVnBCLEVBQUlLLFVBQVVpQixVQUFVQyxPQUFPLGNBQ3pCLENBQ052QixFQUFJSyxVQUFVaUIsVUFBVUssSUFBSSxVQUU1QixJQUFLLElBQUllLEVBQUksRUFBR0EsRUFBSUYsRUFBT3BCLE9BQVFzQixJQUFLLENBQ3ZDLElBQUlDLEVBQTZCM0MsRUFBSU0sY0FBY3NDLFdBQVUsR0FDekRDLEVBQWlDRixFQUFXekMsY0FBYyxPQUU5RHlDLEVBQVdyQixVQUFVQyxPQUFPLFVBQzVCc0IsRUFBYUMsSUFBTU4sRUFBT0UsR0FFMUJDLEVBQVc1QyxpQkFBaUIsUUFBUyxLQUNwQ0MsRUFBSVEsZ0JBQWdCc0MsSUFBTU4sRUFBT0UsR0FDakMxQyxFQUFJTyxZQUFZZSxVQUFVQyxPQUFPLFlBR2xDdkIsRUFBSUksZUFBZTJDLFlBQVlKLE1BZ0RoQ0ssQ0FBV1gsRUFBS0csY0ExR3BCLENBK0dHNUMsT0FBUUMsU0FBVUMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3gwYS90aHVtYmRhdGEzLXZpZXdlci9tYXN0ZXIvc3JjLyJ9
