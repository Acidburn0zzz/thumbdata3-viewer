((e,t,r)=>{e.addEventListener("DOMContentLoaded",()=>{let e={fileOpen:t.querySelector("#filePickerOpen"),filePicker:t.querySelector("#filePicker"),imageContainer:t.querySelector("#imageContainer"),emptyText:t.querySelector("#emptyText"),imageTemplate:t.querySelector("#imageTemplate"),imageViewer:t.querySelector(".image-viewer"),imageViewerMain:t.querySelector(".image-viewer img"),closeButton:t.querySelector("#closeButton"),progressContainer:t.querySelector(".progress"),progress:t.querySelector(".progress-bar")},s=()=>{e.imageContainer.querySelectorAll(".col-md-3:not(.d-none)").forEach(t=>e.imageContainer.removeChild(t))};e.filePicker.addEventListener("change",t=>{let i=t.target;if(0===i.files.length)return;let n=i.files[0];e.progressContainer.classList.remove("d-none"),e.progress.style.width="0%",e.progress.textContent="Parsing..",e.emptyText.classList.add("d-none"),e.fileOpen.classList.add("d-none"),s();let o=new Worker("ThumbExtractor.js");o.addEventListener("message",t=>{const i=t.data;r.log(i),i.status?e.progress.textContent=i.status:i.progress?e.progress.style.width=i.progress+"%":i.images&&(e.progressContainer.classList.add("d-none"),e.fileOpen.classList.remove("d-none"),e.filePicker.value=null,(t=>{if(s(),0===t.length)e.emptyText.classList.remove("d-none");else{e.emptyText.classList.add("d-none");for(let r=0;r<t.length;r++){let s=e.imageTemplate.cloneNode(!0),i=s.querySelector("img");s.classList.remove("d-none"),i.src=t[r],s.addEventListener("click",()=>{e.imageViewerMain.src=t[r],e.imageViewer.classList.remove("d-none")}),e.imageContainer.appendChild(s)}}})(i.images))}),o.postMessage({init:n})}),e.fileOpen.addEventListener("click",()=>{e.filePicker.click()}),e.closeButton.addEventListener("click",()=>{e.imageViewer.classList.add("d-none")})})})(window,document,console);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbIndpbmRvdyIsImRvY3VtZW50IiwiY29uc29sZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJET00iLCJmaWxlT3BlbiIsInF1ZXJ5U2VsZWN0b3IiLCJmaWxlUGlja2VyIiwiaW1hZ2VDb250YWluZXIiLCJlbXB0eVRleHQiLCJpbWFnZVRlbXBsYXRlIiwiaW1hZ2VWaWV3ZXIiLCJpbWFnZVZpZXdlck1haW4iLCJjbG9zZUJ1dHRvbiIsInByb2dyZXNzQ29udGFpbmVyIiwicHJvZ3Jlc3MiLCJjbGVhckxpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImNoaWxkIiwicmVtb3ZlQ2hpbGQiLCJldmVudCIsInRhcmdldCIsImZpbGVzIiwibGVuZ3RoIiwiZmlsZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsInN0eWxlIiwid2lkdGgiLCJ0ZXh0Q29udGVudCIsImFkZCIsIndvcmtlciIsIldvcmtlciIsIm1zZyIsImRhdGEiLCJsb2ciLCJzdGF0dXMiLCJpbWFnZXMiLCJ2YWx1ZSIsImkiLCJpbWFnZUNoaWxkIiwiY2xvbmVOb2RlIiwiaW1hZ2VQcmV2aWV3Iiwic3JjIiwiYXBwZW5kQ2hpbGQiLCJ1cGRhdGVMaXN0IiwicG9zdE1lc3NhZ2UiLCJpbml0IiwiY2xpY2siXSwibWFwcGluZ3MiOiJBQXNCQSxFQUFFQSxFQUFnQkMsRUFBb0JDLEtBa0JyQ0YsRUFBT0csaUJBQWlCLG1CQUFvQixLQUUzQyxJQUFJQyxHQUNIQyxTQUFVSixFQUFTSyxjQUFjLG1CQUNqQ0MsV0FBWU4sRUFBU0ssY0FBYyxlQUNuQ0UsZUFBZ0JQLEVBQVNLLGNBQWMsbUJBQ3ZDRyxVQUFXUixFQUFTSyxjQUFjLGNBQ2xDSSxjQUFlVCxFQUFTSyxjQUFjLGtCQUN0Q0ssWUFBYVYsRUFBU0ssY0FBYyxpQkFDcENNLGdCQUFpQlgsRUFBU0ssY0FBYyxxQkFDeENPLFlBQWFaLEVBQVNLLGNBQWMsZ0JBQ3BDUSxrQkFBbUJiLEVBQVNLLGNBQWMsYUFDMUNTLFNBQVVkLEVBQVNLLGNBQWMsa0JBRzlCVSxFQUFZLEtBQzRCWixFQUFJSSxlQUFlUyxpQkFBaUIsMEJBQ3RFQyxRQUFRQyxHQUFTZixFQUFJSSxlQUFlWSxZQUFZRCxLQTRCMURmLEVBQUlHLFdBQVdKLGlCQUFpQixTQUFXa0IsSUFDMUMsSUFBSUMsRUFBNEJELEVBQU1DLE9BQ3RDLEdBQTRCLElBQXhCQSxFQUFPQyxNQUFNQyxPQUFjLE9BQy9CLElBQUlDLEVBQWFILEVBQU9DLE1BQU0sR0FFOUJuQixFQUFJVSxrQkFBa0JZLFVBQVVDLE9BQU8sVUFDdkN2QixFQUFJVyxTQUFTYSxNQUFNQyxNQUFRLEtBQzNCekIsRUFBSVcsU0FBU2UsWUFBYyxZQUMzQjFCLEVBQUlLLFVBQVVpQixVQUFVSyxJQUFJLFVBQzVCM0IsRUFBSUMsU0FBU3FCLFVBQVVLLElBQUksVUFFM0JmLElBRUEsSUFBSWdCLEVBQVMsSUFBSUMsT0FBTyxxQkFDeEJELEVBQU83QixpQkFBaUIsVUFBVytCLElBQ2xDLE1BQU1DLEVBQU9ELEVBQUlDLEtBQ2pCakMsRUFBUWtDLElBQUlELEdBQ1RBLEVBQUtFLE9BQ1BqQyxFQUFJVyxTQUFTZSxZQUFjSyxFQUFLRSxPQUN4QkYsRUFBS3BCLFNBQ2JYLEVBQUlXLFNBQVNhLE1BQU1DLE1BQVFNLEVBQUtwQixTQUFXLElBQ25Db0IsRUFBS0csU0FDYmxDLEVBQUlVLGtCQUFrQlksVUFBVUssSUFBSSxVQUNwQzNCLEVBQUlDLFNBQVNxQixVQUFVQyxPQUFPLFVBQzlCdkIsRUFBSUcsV0FBV2dDLE1BQVEsS0FqRFQsQ0FBQ0QsSUFHakIsR0FGQXRCLElBRXNCLElBQWxCc0IsRUFBT2QsT0FDVnBCLEVBQUlLLFVBQVVpQixVQUFVQyxPQUFPLGNBQ3pCLENBQ052QixFQUFJSyxVQUFVaUIsVUFBVUssSUFBSSxVQUU1QixJQUFLLElBQUlTLEVBQUksRUFBR0EsRUFBSUYsRUFBT2QsT0FBUWdCLElBQUssQ0FDdkMsSUFBSUMsRUFBNkJyQyxFQUFJTSxjQUFjZ0MsV0FBVSxHQUN6REMsRUFBaUNGLEVBQVduQyxjQUFjLE9BRTlEbUMsRUFBV2YsVUFBVUMsT0FBTyxVQUM1QmdCLEVBQWFDLElBQU1OLEVBQU9FLEdBRTFCQyxFQUFXdEMsaUJBQWlCLFFBQVMsS0FDcENDLEVBQUlRLGdCQUFnQmdDLElBQU1OLEVBQU9FLEdBQ2pDcEMsRUFBSU8sWUFBWWUsVUFBVUMsT0FBTyxZQUdsQ3ZCLEVBQUlJLGVBQWVxQyxZQUFZSixNQThCL0JLLENBQVdYLEVBQUtHLFdBR2xCTixFQUFPZSxhQUFhQyxLQUFNdkIsTUFHM0JyQixFQUFJQyxTQUFTRixpQkFBaUIsUUFBUyxLQUN0Q0MsRUFBSUcsV0FBVzBDLFVBR2hCN0MsRUFBSVMsWUFBWVYsaUJBQWlCLFFBQVMsS0FDekNDLEVBQUlPLFlBQVllLFVBQVVLLElBQUksZUFuR2pDLENBd0dHL0IsT0FBUUMsU0FBVUMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3gwYS90aHVtYmRhdGEzLXZpZXdlci9tYXN0ZXIvc3JjLyJ9
